============================= test session starts ==============================
platform linux -- Python 3.11.2, pytest-7.4.3, pluggy-1.6.0 -- /home/parrot/.cache/pypoetry/virtualenvs/nfl-draft-queen-1FicStbu-py3.11/bin/python
cachedir: .pytest_cache
rootdir: /home/parrot/code/draft-queen
configfile: pytest.ini
plugins: anyio-3.7.1, cov-4.1.0, asyncio-0.21.1, mock-3.12.0
asyncio: mode=Mode.AUTO
collecting ... collected 165 items

tests/unit/test_orchestrator.py::TestPipelineOrchestratorBasic::test_orchestrator_initialization PASSED [  0%]
tests/unit/test_orchestrator.py::TestPipelineOrchestratorBasic::test_register_stage PASSED [  1%]
tests/unit/test_orchestrator.py::TestPipelineOrchestratorBasic::test_stage_execution_order PASSED [  1%]
tests/unit/test_orchestrator.py::TestPipelineExecution::test_pipeline_execution_creation PASSED [  2%]
tests/unit/test_orchestrator.py::TestPipelineExecution::test_get_failed_stages PASSED [  3%]
tests/unit/test_orchestrator.py::TestPipelineExecution::test_get_successful_stages PASSED [  3%]
tests/unit/test_orchestrator.py::TestFailureHandling::test_fail_fast_mode PASSED [  4%]
tests/unit/test_orchestrator.py::TestFailureHandling::test_partial_success_mode PASSED [  4%]
tests/unit/test_orchestrator.py::TestFailureHandling::test_retry_on_transient_failure PASSED [  5%]
tests/unit/test_orchestrator.py::TestFailureHandling::test_exhaust_retries PASSED [  6%]
tests/unit/test_orchestrator.py::TestNotifications::test_set_notifier PASSED [  6%]
tests/unit/test_orchestrator.py::TestNotifications::test_notification_on_success PASSED [  7%]
tests/unit/test_orchestrator.py::TestNotifications::test_notification_on_failure PASSED [  7%]
tests/unit/test_orchestrator.py::TestExecutionHistory::test_execution_history_tracking PASSED [  8%]
tests/unit/test_orchestrator.py::TestExecutionHistory::test_execution_history_limit PASSED [  9%]
tests/unit/test_orchestrator.py::TestExecutionHistory::test_execution_summary PASSED [  9%]
tests/unit/test_orchestrator.py::TestExecutionHistory::test_stage_health_metrics PASSED [ 10%]
tests/unit/test_orchestrator.py::TestStageExecution::test_stage_execution_creation PASSED [ 10%]
tests/unit/test_orchestrator.py::TestStageExecution::test_stage_execution_to_dict PASSED [ 11%]
tests/unit/test_yahoo_sports.py::TestYahooSportsConnectorBasic::test_connector_initialization PASSED [ 12%]
tests/unit/test_yahoo_sports.py::TestYahooSportsConnectorBasic::test_session_headers_set PASSED [ 12%]
tests/unit/test_yahoo_sports.py::TestYahooSportsConnectorBasic::test_rate_limit_delay PASSED [ 13%]
tests/unit/test_yahoo_sports.py::TestYahooSportsConnectorBasic::test_normalize_name PASSED [ 13%]
tests/unit/test_yahoo_sports.py::TestYahooSportsConnectorBasic::test_parse_integer PASSED [ 14%]
tests/unit/test_yahoo_sports.py::TestYahooSportsConnectorBasic::test_parse_float PASSED [ 15%]
tests/unit/test_yahoo_sports.py::TestYahooSportsHTMLParsing::test_parse_qb_stats PASSED [ 15%]
tests/unit/test_yahoo_sports.py::TestYahooSportsHTMLParsing::test_parse_wr_stats PASSED [ 16%]
tests/unit/test_yahoo_sports.py::TestYahooSportsHTMLParsing::test_parse_incomplete_stats PASSED [ 16%]
tests/unit/test_yahoo_sports.py::TestDataValidation::test_validate_stat_within_range PASSED [ 17%]
tests/unit/test_yahoo_sports.py::TestDataValidation::test_validate_stat_exceeds_max PASSED [ 18%]
tests/unit/test_yahoo_sports.py::TestDataValidation::test_validate_stat_below_min PASSED [ 18%]
tests/unit/test_yahoo_sports.py::TestDataValidation::test_validate_qb_prospect PASSED [ 19%]
tests/unit/test_yahoo_sports.py::TestDataValidation::test_validate_invalid_position PASSED [ 20%]
tests/unit/test_yahoo_sports.py::TestDataValidation::test_validate_missing_name PASSED [ 20%]
tests/unit/test_yahoo_sports.py::TestDataValidation::test_validation_summary PASSED [ 21%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_exact_name_match PASSED [ 21%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_partial_name_match PASSED [ 22%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_name_with_suffix PASSED [ 23%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_case_insensitive_match PASSED [ 23%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_whitespace_handling PASSED [ 24%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_find_best_match PASSED [ 24%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_find_all_matches PASSED [ 25%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_deduplicate_prospects PASSED [ 26%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_match_across_sources PASSED [ 26%]
tests/unit/test_yahoo_sports.py::TestProspectMatching::test_match_confidence_levels PASSED [ 27%]
tests/unit/test_yahoo_sports.py::TestMockConnector::test_mock_connector_initialization PASSED [ 27%]
tests/unit/test_yahoo_sports.py::TestMockConnector::test_mock_connector_fetch_prospects PASSED [ 28%]
tests/unit/test_yahoo_sports.py::TestMockConnector::test_mock_connector_health_check PASSED [ 29%]
tests/unit/test_yahoo_sports.py::TestMockConnector::test_mock_data_format PASSED [ 29%]
tests/unit/test_yahoo_sports.py::TestYahooSportsIntegration::test_fetch_prospects_with_mocked_http PASSED [ 30%]
tests/unit/test_yahoo_sports.py::TestYahooSportsIntegration::test_cache_fallback PASSED [ 30%]
tests/unit/test_yahoo_sports.py::TestErrorHandling::test_parse_stats_handles_missing_fields PASSED [ 31%]
tests/unit/test_yahoo_sports.py::TestErrorHandling::test_validation_with_invalid_types PASSED [ 32%]
tests/unit/test_espn_injuries.py::TestESPNConnectorBasic::test_connector_initialization PASSED [ 32%]
tests/unit/test_espn_injuries.py::TestESPNConnectorBasic::test_session_headers PASSED [ 33%]
tests/unit/test_espn_injuries.py::TestESPNConnectorBasic::test_injury_type_normalization PASSED [ 33%]
tests/unit/test_espn_injuries.py::TestESPNConnectorBasic::test_severity_extraction PASSED [ 34%]
tests/unit/test_espn_injuries.py::TestESPNConnectorBasic::test_return_date_parsing PASSED [ 35%]
tests/unit/test_espn_injuries.py::TestESPNConnectorBasic::test_rate_limit_enforcement PASSED [ 35%]
tests/unit/test_espn_injuries.py::TestESPNHTMLParsing::test_parse_complete_injury_list PASSED [ 36%]
tests/unit/test_espn_injuries.py::TestESPNHTMLParsing::test_parse_incomplete_injury_data PASSED [ 36%]
tests/unit/test_espn_injuries.py::TestMockESPNConnector::test_mock_initialization PASSED [ 37%]
tests/unit/test_espn_injuries.py::TestMockESPNConnector::test_mock_fetch_injuries PASSED [ 38%]
tests/unit/test_espn_injuries.py::TestMockESPNConnector::test_mock_data_structure PASSED [ 38%]
tests/unit/test_espn_injuries.py::TestMockESPNConnector::test_mock_health_check PASSED [ 39%]
tests/unit/test_espn_injuries.py::TestInjuryTracking::test_detect_new_injuries PASSED [ 40%]
tests/unit/test_espn_injuries.py::TestInjuryTracking::test_detect_resolved_injuries PASSED [ 40%]
tests/unit/test_espn_injuries.py::TestInjuryTracking::test_detect_severity_changes PASSED [ 41%]
tests/unit/test_espn_injuries.py::TestInjuryTracking::test_classify_critical_updates PASSED [ 41%]
tests/unit/test_espn_injuries.py::TestInjuryTracking::test_get_update_summary PASSED [ 42%]
tests/unit/test_espn_injuries.py::TestInjuryTracking::test_generate_alert_message PASSED [ 43%]
tests/unit/test_espn_injuries.py::TestInjuryFiltering::test_fetch_injuries_by_position PASSED [ 43%]
tests/unit/test_espn_injuries.py::TestInjuryFiltering::test_fetch_injuries_by_team PASSED [ 44%]
tests/unit/test_espn_injuries.py::TestInjuryFiltering::test_fetch_critical_injuries PASSED [ 44%]
tests/unit/test_espn_injuries.py::TestInjuryProspectLinking::test_link_injury_to_prospect PASSED [ 45%]
tests/unit/test_espn_injuries.py::TestESPNHealth::test_get_update_age PASSED [ 46%]
tests/unit/test_reconciliation.py::TestReconciliationEngineBasic::test_engine_initialization PASSED [ 46%]
tests/unit/test_reconciliation.py::TestReconciliationEngineBasic::test_authority_rules_defined PASSED [ 47%]
tests/unit/test_reconciliation.py::TestReconciliationEngineBasic::test_conflict_thresholds_defined PASSED [ 47%]
tests/unit/test_reconciliation.py::TestConflictDetection::test_detect_height_conflict_within_tolerance PASSED [ 48%]
tests/unit/test_reconciliation.py::TestConflictDetection::test_detect_height_conflict_beyond_tolerance PASSED [ 49%]
tests/unit/test_reconciliation.py::TestConflictDetection::test_detect_weight_conflict PASSED [ 49%]
tests/unit/test_reconciliation.py::TestConflictDetection::test_identical_values_no_conflict PASSED [ 50%]
tests/unit/test_reconciliation.py::TestReconciliation::test_reconcile_matching_measurements PASSED [ 50%]
tests/unit/test_reconciliation.py::TestReconciliation::test_reconcile_conflicting_height PASSED [ 51%]
tests/unit/test_reconciliation.py::TestReconciliation::test_reconcile_conflicting_position PASSED [ 52%]
tests/unit/test_reconciliation.py::TestReconciliation::test_reconcile_name_with_suffix PASSED [ 52%]
tests/unit/test_reconciliation.py::TestAuthorityRules::test_authority_rule_measurement PASSED [ 53%]
tests/unit/test_reconciliation.py::TestAuthorityRules::test_resolved_values_mapping PASSED [ 53%]
tests/unit/test_reconciliation.py::TestConflictRecord::test_conflict_record_creation PASSED [ 54%]
tests/unit/test_reconciliation.py::TestConflictRecord::test_conflict_record_to_dict PASSED [ 55%]
tests/unit/test_reconciliation.py::TestReconciliationResult::test_result_creation PASSED [ 55%]
tests/unit/test_reconciliation.py::TestReconciliationResult::test_critical_conflicts_filtering PASSED [ 56%]
tests/unit/test_reconciliation.py::TestReconciliationResult::test_unresolved_conflicts_tracking PASSED [ 56%]
tests/unit/test_reconciliation.py::TestConflictSummary::test_conflict_summary_empty PASSED [ 57%]
tests/unit/test_reconciliation.py::TestConflictSummary::test_conflict_summary_populated PASSED [ 58%]
tests/unit/test_reconciliation.py::TestManualOverride::test_manual_override_conflict PASSED [ 58%]
tests/unit/test_reconciliation.py::TestCollegeStatsValidation::test_realistic_college_stats_pass PASSED [ 59%]
tests/unit/test_reconciliation.py::TestCollegeStatsValidation::test_unrealistic_college_stats_detected PASSED [ 60%]
tests/unit/test_reconciliation.py::TestInjuryValidation::test_injury_with_past_return_date PASSED [ 60%]
tests/unit/test_snapshots.py::TestSnapshotManagerBasic::test_manager_initialization PASSED [ 61%]
tests/unit/test_snapshots.py::TestSnapshotManagerBasic::test_create_snapshot PASSED [ 61%]
tests/unit/test_snapshots.py::TestSnapshotManagerBasic::test_snapshot_file_created PASSED [ 62%]
tests/unit/test_snapshots.py::TestSnapshotManagerBasic::test_snapshot_data_valid_json PASSED [ 63%]
tests/unit/test_snapshots.py::TestSnapshotMetadata::test_metadata_creation PASSED [ 63%]
tests/unit/test_snapshots.py::TestSnapshotMetadata::test_metadata_to_dict PASSED [ 64%]
tests/unit/test_snapshots.py::TestProspectSnapshot::test_prospect_snapshot_creation PASSED [ 64%]
tests/unit/test_snapshots.py::TestProspectSnapshot::test_prospect_snapshot_hash PASSED [ 65%]
tests/unit/test_snapshots.py::TestProspectSnapshot::test_prospect_snapshot_hash_changes PASSED [ 66%]
tests/unit/test_snapshots.py::TestSnapshotCompression::test_compress_snapshot PASSED [ 66%]
tests/unit/test_snapshots.py::TestSnapshotCompression::test_compressed_snapshot_readable PASSED [ 67%]
tests/unit/test_snapshots.py::TestSnapshotCompression::test_compression_reduces_size PASSED [ 67%]
tests/unit/test_snapshots.py::TestSnapshotArchival::test_archive_snapshot PASSED [ 68%]
tests/unit/test_snapshots.py::TestSnapshotArchival::test_restore_snapshot PASSED [ 69%]
tests/unit/test_snapshots.py::TestHistoricalQueries::test_get_historical_data PASSED [ 69%]
tests/unit/test_snapshots.py::TestHistoricalQueries::test_get_historical_data_nonexistent PASSED [ 70%]
tests/unit/test_snapshots.py::TestHistoricalQueries::test_get_data_as_of_date PASSED [ 70%]
tests/unit/test_snapshots.py::TestHistoricalQueries::test_get_prospect_history PASSED [ 71%]
tests/unit/test_snapshots.py::TestSnapshotCleanup::test_cleanup_old_snapshots PASSED [ 72%]
tests/unit/test_snapshots.py::TestSnapshotSummary::test_snapshot_summary_empty PASSED [ 72%]
tests/unit/test_snapshots.py::TestSnapshotSummary::test_snapshot_summary_populated PASSED [ 73%]
tests/unit/test_snapshots.py::TestSnapshotsBetweenDates::test_get_snapshots_between PASSED [ 73%]
tests/unit/test_snapshots.py::TestSnapshotsBetweenDates::test_get_snapshots_between_empty_range PASSED [ 74%]
tests/unit/test_snapshots.py::TestChangeDetection::test_changed_from_previous_detection PASSED [ 75%]
tests/unit/test_quality_rules.py::TestBusinessLogicRules::test_create_business_logic_rule PASSED [ 75%]
tests/unit/test_quality_rules.py::TestBusinessLogicRules::test_business_logic_rule_passes PASSED [ 76%]
tests/unit/test_quality_rules.py::TestBusinessLogicRules::test_business_logic_rule_fails PASSED [ 76%]
tests/unit/test_quality_rules.py::TestBusinessLogicRules::test_business_logic_in_operator PASSED [ 77%]
tests/unit/test_quality_rules.py::TestConsistencyRules::test_consistency_rule_equals PASSED [ 78%]
tests/unit/test_quality_rules.py::TestConsistencyRules::test_consistency_rule_proportional PASSED [ 78%]
tests/unit/test_quality_rules.py::TestOutlierRules::test_outlier_rule_z_score PASSED [ 79%]
tests/unit/test_quality_rules.py::TestOutlierRules::test_outlier_rule_iqr PASSED [ 80%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_engine_initialization PASSED [ 80%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_register_rule PASSED [ 81%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_register_rules_batch PASSED [ 81%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_validate_prospect_no_violations PASSED [ 82%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_validate_prospect_with_violations PASSED [ 83%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_validate_dataset PASSED [ 83%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_quarantine_critical_violations PASSED [ 84%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_disable_enable_rule PASSED [ 84%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_review_violation PASSED [ 85%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_violations_summary PASSED [ 86%]
tests/unit/test_quality_rules.py::TestRulesEngine::test_get_violations_for_prospect PASSED [ 86%]
tests/unit/test_quality_rules.py::TestRuleViolation::test_violation_creation PASSED [ 87%]
tests/unit/test_quality_rules.py::TestRuleViolation::test_violation_to_dict PASSED [ 87%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_complete_pipeline_execution PASSED [ 88%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_pipeline_with_stage_selection PASSED [ 89%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_pipeline_with_timeout PASSED [ 89%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_connector_initialization_modes PASSED [ 90%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_pipeline_execution_with_notifications PASSED [ 90%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_pipeline_metrics_across_stages PASSED [ 91%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_pipeline_execution_history_persistence PASSED [ 92%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_stage_execution_data_flow PASSED [ 92%]
tests/integration/test_pipeline_orchestration.py::TestFullPipelineOrchestration::test_stage_ordering_preserved PASSED [ 93%]
tests/integration/test_pipeline_orchestration.py::TestConnectorImplementations::test_nfl_connector_execution PASSED [ 93%]
tests/integration/test_pipeline_orchestration.py::TestConnectorImplementations::test_yahoo_connector_execution PASSED [ 94%]
tests/integration/test_pipeline_orchestration.py::TestConnectorImplementations::test_espn_connector_execution PASSED [ 95%]
tests/integration/test_pipeline_orchestration.py::TestConnectorImplementations::test_reconciliation_connector_execution PASSED [ 95%]
tests/integration/test_pipeline_orchestration.py::TestConnectorImplementations::test_quality_validation_connector_execution PASSED [ 96%]
tests/integration/test_pipeline_orchestration.py::TestConnectorImplementations::test_snapshot_connector_execution PASSED [ 96%]
tests/integration/test_pipeline_orchestration.py::TestConnectorErrorHandling::test_nfl_connector_handles_missing_instance PASSED [ 97%]
tests/integration/test_pipeline_orchestration.py::TestConnectorErrorHandling::test_yahoo_connector_handles_missing_instance PASSED [ 98%]
tests/integration/test_pipeline_orchestration.py::TestConnectorErrorHandling::test_reconciliation_connector_handles_missing_instance PASSED [ 98%]
tests/integration/test_pipeline_orchestration.py::TestConnectorErrorHandling::test_quality_connector_handles_missing_instance PASSED [ 99%]
tests/integration/test_pipeline_orchestration.py::TestConnectorErrorHandling::test_snapshot_connector_handles_missing_instance PASSED [100%]

=============================== warnings summary ===============================
backend/database/models.py:13
  /home/parrot/code/draft-queen/backend/database/models.py:13: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 165 passed, 1 warning in 2.87s ========================
